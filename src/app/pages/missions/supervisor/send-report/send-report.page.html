<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="goBack()">
        <ion-icon name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>

    <ion-title class="center-title">Envoyez vers le client</ion-title>

    <ion-buttons slot="end">
      <ion-button>
        <ion-icon name="notifications-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="anumation-block cls-details">
    <ion-card>
      <ion-card-content>
        <ion-grid>
          <ion-row>
            <ion-col size="3">
              <img [src]="data?.logo" />
            </ion-col>
            <ion-col size="9">
              <div class="anumation-block mt-20">
                <p class="anumation-block cls-p-title">
                  {{data.intervention_name.split('-')[0]}}
                  <br />
                </p>
              </div>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <div class="anumation-block custom-banner">{{data.prestation}}</div>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="2"></ion-col>
            <ion-col size="10">
              <div class="anumation-block cls-address">
                <p class="anumation-block cls-p-address">{{data.intervention_name.split('-')[1]}}</p>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>

    <div class="anumation-block mission-title">Les contacts de la mission</div>

    <div class="anumation-block custom-card">
      <ion-radio-group [(ngModel)]="selectedContactId" (ionChange)="onRadioChange($event)">
        <div
          class="anumation-block card-item"
          *ngFor="let item of data?.contacts"
          [ngStyle]="{ 'background-color': selectedContactId === item.id ? '#ddf5ff' : '#fff' }"
          (click)="selectContact(item.id)"
        >
          <div class="anumation-block item-grid">
            <div class="anumation-block col-left">
              <div class="anumation-block item-name">{{ item?.first_name }} {{ item?.last_name }}</div>
              <div class="anumation-block item-chip">
                <span class="anumation-block chip-text">{{ item?.job }}</span>
              </div>
            </div>
            <div class="anumation-block col-right">
              <ion-radio slot="end" [value]="item.id"></ion-radio>
            </div>
          </div>
        </div>
      </ion-radio-group>
    </div>

    <div class="anumation-block btn-container">
      <ion-button class="anumation-block custom-button" expand="block" (click)="shareReport()">
        <ion-img slot="start" class="anumation-block btn-icon" src="assets/img/Navigation.png"></ion-img>
        Envoyez le rapport au client
      </ion-button>
    </div>
  </div>
</ion-content>
