<ion-header>
  <ion-toolbar>
    <ion-title></ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="dismiss()">{{ 'Cancel' | translate }}</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>






<ion-content class="modal-content">



 




  <div class="center-container">



    <ion-card class="custom-card">
      <div class="card-container">
    
        <!-- Colonne gauche 75% -->
        <div class="left-col">
    
          <!-- Ligne 1 -->
          <div class="row row-1">
            <img src="assets/img/logo_pitch 5.png" class="logo" />
            <span class="title">Cogedim - Lot A1</span>
          </div>
    
          <!-- Ligne 2 -->
          <div class="row row-2">
            <span class="address">
              218 avenu du general leclerc<br />
              Dammarie les lys
            </span>
          </div>
    
          <!-- Ligne 3 -->
          <div class="row row-3">
            <span class="date">15/11/2023</span>
    
            <ion-chip class="time-chip">
              <span class="time-text">08:00</span>
            </ion-chip>
          </div>
    
        </div>
    
        <!-- Colonne droite 25% -->
        <div class="right-col">
          <img src="assets/img/img-55.png" class="icon" />
        </div>
    
      </div>
    </ion-card>


    <ion-card class="profile-card">
      <div class="card-inner">
    
        <!-- Colonne image 30% -->
        <div class="avatar-col">
          <img src="assets/img/avatar.png" class="avatar" />
        </div>
    
        <!-- Colonne texte -->
        <div class="info-col">
          <span class="name">DIARRA Sadio</span>
    
          <ion-chip class="role-chip">
            <span class="role-text">Agent</span>
          </ion-chip>
        </div>

       
    
      </div>


      <div class="replanification-block m-50"
        [ngClass]="returnType.indexOf('rescheduling') != -1  ? 'bg-FEFD99' : 'bg-FFFFFF'">
        <ion-icon name="calendar-clear-outline" class="agenda-icon"></ion-icon>
        <span class="replanification-text">{{ 'Replanification' | translate }}</span>
      </div>

      <div class="replanification-block m-10" [ngClass]="returnType.indexOf('empty_truck') != -1 ? 'bg-CDF3FF' : 'bg-FFFFFF'">
        <ion-icon name="car-outline" class="agenda-icon"></ion-icon>
        <span class="replanification-text">{{ 'Truck to empty' | translate }}</span>
      </div>
      
      <div class="replanification-block m-10"
        [ngClass]="returnType.indexOf('agent_absence') != -1 ? 'bg-D6BDFF' : 'bg-FFFFFF'">
        <ion-icon name="person-remove-outline" class="agenda-icon"></ion-icon>
        <span class="replanification-text">{{ 'Agent absence' | translate }}</span>
      </div>
      
      <div class="replanification-block m-10" [ngClass]="returnType.indexOf('accident') != -1 ? 'bg-F4C5BA' : 'bg-FFFFFF'">
        <ion-icon name="medkit-outline" class="agenda-icon"></ion-icon>
        <span class="replanification-text">{{ 'Accident' | translate }}</span>
      </div>


      <div class="recording-card" *ngIf="audioUrl?.url?.includes('http')">
      
        <!-- Play / Pause -->
        <div class="play-btn" (click)="togglePlay()">
          <ion-icon [name]="isPlaying ? 'pause' : 'play'"></ion-icon>
        </div>
      
        <!-- Timer -->
        <span class="record-time">
          {{ durationDisplay }}
        </span>
      
        <!-- Wave -->
        <div class="waveform">
          <span *ngFor="let bar of bars"></span>
        </div>
      
        <!-- Audio réel -->
        <audio #audioPlayer [src]="audioUrl.url"></audio>
      
      </div>

      
    </ion-card>


    <div class="feedback-container">
      <div class="feedback-btn" (click)="openFeedbackModal()">
        <span class="feedback-text">
          Faire un retour à l’agent
        </span>
      </div>
    </div>




<!--
    <div class="center-title">
      <p class="cls-title">{{ 'Return mission' | translate }} 11</p> 
    </div>
    <p class="cls-label">{{ returnTime =='' ?('What type of feedback would you like to provide?' | translate ) : returnTime }}</p>
    <div class="replanification-block m-50" [ngClass]="returnType.indexOf('rescheduling') != -1  ? 'bg-FEFD99' : 'bg-FFFFFF'">
      <ion-icon name="calendar-clear-outline" class="agenda-icon"></ion-icon>
      <span class="replanification-text">{{ 'Replanification' | translate }}</span>
    </div>

    <div class="replanification-block m-10" [ngClass]="returnType.indexOf('empty_truck') != -1 ? 'bg-CDF3FF' : 'bg-FFFFFF'">
      <ion-icon name="car-outline" class="agenda-icon"></ion-icon>
      <span class="replanification-text">{{ 'Truck to empty' | translate }}</span>
    </div>

    <div class="replanification-block m-10" [ngClass]="returnType.indexOf('agent_absence') != -1 ? 'bg-D6BDFF' : 'bg-FFFFFF'">
      <ion-icon name="person-remove-outline" class="agenda-icon"></ion-icon>
      <span class="replanification-text">{{ 'Agent absence' | translate }}</span>
    </div>

    <div class="replanification-block m-10" [ngClass]="returnType.indexOf('accident') != -1 ? 'bg-F4C5BA' : 'bg-FFFFFF'">
      <ion-icon name="medkit-outline" class="agenda-icon"></ion-icon>
      <span class="replanification-text">{{ 'Accident' | translate }}</span>
    </div>

    <div class="vocal-card">
      <p class="vocal-card-title">{{ 'Record a voice' | translate }}</p>

      <div class="vocal-card-grid">
        <div class="vocal-badge" [ngClass]="important ? 'important' : 'not-important'">
          <ion-icon name="alert-circle-outline" class="badge-icon"></ion-icon>
          <span class="badge-text important-text">{{ 'Important' | translate }}</span>
        </div>
        <div class="vocal-badge" [ngClass]="!important ? 'important' : 'not-important'">
          <ion-icon name="information-circle-outline" class="badge-icon"></ion-icon>
          <span class="badge-text not-important-text">{{ 'Not Important' | translate }}</span>
        </div>
      </div>

      <div id="waveform"></div>
      <div *ngIf="audioUrl?.url?.includes('http')" class="cls-timer">{{ durationDisplay }}</div>

      <ion-button *ngIf="audioUrl" class="custom-button-update bg-record-lisen" (click)="playRecordingAgain()">
        <ion-icon name="play-circle-outline" slot="start"></ion-icon>
        {{ 'Listen to the recording again' | translate }}
      </ion-button>
    </div>
-->
  </div>
</ion-content>
