<ion-content *ngIf="!isSuperVisor" [fullscreen]="true">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-button (click)="goToProfile()">
          <ion-icon name="person-outline"></ion-icon>
        </ion-button>
      </ion-buttons>
      <ion-title class="center-title">{{'My missions' | translate}}</ion-title>
      <ion-buttons slot="end">
        <ion-button>
          <ion-icon name="notifications-outline"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>
  <ng-container *ngIf="!isSuperVisor">
    <div class="header-container-agent">
      <div class="month-block" (click)="openPopover($event)">
        <span class="month-text">{{ currentDate | capitalizeFirstLetter }}</span>
        <ion-icon name="calendar-outline" class="icon-calendar"></ion-icon>
      </div>
      <ion-button expand="block" (click)="getByDate()" class="custom-button">{{ "Filter" | translate }}</ion-button>
    </div>
    <div class="spinner-container" *ngIf="isLoaded == false">
      <ion-spinner name="crescent"></ion-spinner>
    </div>
    <ng-container *ngIf="(punctuals.length === 0 && regulars.length === 0 && forfaitaires.length === 0) && isLoaded==true">
      <div class="empty-container">
        <img src="assets/img/emty-icon.png" />
        <p class="cls-empty-title">{{'No data found' | translate}}</p>
        <p class="cls-empty-d">{{'It appears that this list is currently empty' | translate}}</p>
      </div>
    </ng-container>
    <ng-container *ngIf="isLoaded==true">
      <app-forfaitaire [data]="forfaitaires" [isTodayPlannings]="isToDayPlannings" [date]="date" [supervisors]="superVisors"></app-forfaitaire>
      <app-punctual [data]="punctuals" [date]="date" [isTodayPlannings]="isToDayPlannings" [supervisors]="superVisors"></app-punctual>
      <app-regular [data]="regulars" [date]="date" [supervisors]="superVisors"></app-regular>
    </ng-container>
  </ng-container>
</ion-content>
<ion-content *ngIf="isSuperVisor" [fullscreen]="true">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-button (click)="goToProfile()">
          <ion-icon name="person-outline"></ion-icon>
        </ion-button>
      </ion-buttons>
      <ion-title class="center-title">{{'My missions' | translate}}</ion-title>
      <ion-buttons slot="end">
        <ion-button>
          <ion-icon name="notifications-outline"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>
  <app-main [counts]="counts"></app-main>
</ion-content>
